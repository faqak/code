## 1761E

考虑一些特殊答案取值对应的局面，看看除了这些是不是只剩下一些 trivial 的东西（**套路**）。

- $ans = 0$：原图连通。
- $ans = 1$：
  - 存在孤立点（操作其本身）
  - 存在一个非团的连通块（操作连通块内 $deg$ 最小的点）
- $ans = 2$：所有连通块均为团，但有 $3$ 个及以上连通块（随便操作一个点，此时被归纳到 $ans = 1$ 的情况）

剩下的情况只有图恰好由两个团组成，此时 $ans$ 为两团点数的最小值，因为必须消完一整个团才能使原图联通。

## 1753D

## 1750E

我们肯定首先需要对每个子串用可以维护的式子表示贡献。

注意到已经匹配的括号对于答案无贡献，那么我们可以直接把串中已经匹配的括号删除，容易知道这样会把串变为 `))...)((...(` 的形式（**套路**）。

于是设剩下有 $L$ 个左括号，$R$ 个右括号，观察得出贡献为 $\max(L, R)$，原因显然。

考虑这个东西有一个缩括号的过程，不好维护，我们用原串中的信息来表示，为 $\max(L, R) - X$（$X$ 为已经匹配的括号对数）。

拆开维护，$\sum X$ 可以拆贡献，因为一对括号在子串中匹配仅当在原串中匹配（**套路**）。

对于 $\sum \max(L, R)$，$\max(L, R) = (L + R + |R-L|) \div 2$（**套路**）。

$\sum L$ 和 $\sum R$ 都可以随便拆贡献，而 $\sum |R-L|$ 的实质是给 `)` 赋 $1$，给 `(` 赋 $-1$，然后所有区间和的绝对值之和，可以把前缀和搞出来，排完序就是 $\sum_{i=1}^n\sum_{j=i}^n s_j - s_i$，直接算。